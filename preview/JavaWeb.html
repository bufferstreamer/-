<html>
  <head>
	  <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>i5ting_ztree_toc:</title>
		<link href="toc/style/github-bf51422f4bb36427d391e4b75a1daa083c2d840e.css" media="all" rel="stylesheet" type="text/css"/>
		<link href="toc/style/github2-d731afd4f624c99a4b19ad69f3083cd6d02b81d5.css" media="all" rel="stylesheet" type="text/css"/>
		<link href="toc/css/zTreeStyle/zTreeStyle.css" media="all" rel="stylesheet" type="text/css"/>
	  <style>
		pre {
		    counter-reset: line-numbering;
		    border: solid 1px #d9d9d9;
		    border-radius: 0;
		    background: #fff;
		    padding: 0;
		    line-height: 23px;
		    margin-bottom: 30px;
		    white-space: pre;
		    overflow-x: auto;
		    word-break: inherit;
		    word-wrap: inherit;
		}

		pre a::before {
		  content: counter(line-numbering);
		  counter-increment: line-numbering;
		  padding-right: 1em; /* space after numbers */
		  width: 25px;
		  text-align: right;
		  opacity: 0.7;
		  display: inline-block;
		  color: #aaa;
		  background: #eee;
		  margin-right: 16px;
		  padding: 2px 10px;
		  font-size: 13px;
		  -webkit-touch-callout: none;
		  -webkit-user-select: none;
		  -khtml-user-select: none;
		  -moz-user-select: none;
		  -ms-user-select: none;
		  user-select: none;
		}

		pre a:first-of-type::before {
		  padding-top: 10px;
		}

		pre a:last-of-type::before {
		  padding-bottom: 10px;
		}

		pre a:only-of-type::before {
		  padding: 10px;
		}

		.highlight { background-color: #ffffcc } /* RIGHT */
		</style>
  </head>
  <body>
	  <div>
				<div style='width:25%;'>
						<ul id="tree" class="ztree" style='width:100%'>

						</ul>
				</div>
        <div id='readme' style='width:70%;margin-left:20%;'>
          	<article class='markdown-body'>
            	<h1 id="mysql">mysql</h1>
<h2 id="ddl-database-define-">DDL(database define )</h2>
<p><img src="C:\Users\LN\AppData\Roaming\Typora\typora-user-images\image-20220310103408924.png" alt="image-20220310103408924"></p>
<p><img src="C:\Users\LN\AppData\Roaming\Typora\typora-user-images\image-20220310103555288.png" alt="image-20220310103555288"></p>
<p><img src="C:\Users\LN\AppData\Roaming\Typora\typora-user-images\image-20220310103629529.png" alt="image-20220310103629529"></p>
<p><img src="C:\Users\LN\AppData\Roaming\Typora\typora-user-images\image-20220310104041910.png" alt="image-20220310104041910"></p>
<p><img src="C:\Users\LN\AppData\Roaming\Typora\typora-user-images\image-20220310105424636.png" alt="image-20220310105424636"></p>
<h2 id="dml">DML</h2>
<p><img src="C:\Users\LN\AppData\Roaming\Typora\typora-user-images\image-20220310112443392.png" alt="image-20220310112443392"></p>
<p><img src="C:\Users\LN\AppData\Roaming\Typora\typora-user-images\image-20220310112917819.png" alt="image-20220310112917819"></p>
<p><img src="C:\Users\LN\AppData\Roaming\Typora\typora-user-images\image-20220310112930104.png" alt="image-20220310112930104"></p>
<h2 id="dql">DQL</h2>
<p><img src="C:\Users\LN\AppData\Roaming\Typora\typora-user-images\image-20220310113232060.png" alt="image-20220310113232060"></p>
<p><img src="C:\Users\LN\AppData\Roaming\Typora\typora-user-images\image-20220310113602453.png" alt="image-20220310113602453"></p>
<p><img src="C:\Users\LN\AppData\Roaming\Typora\typora-user-images\image-20220310113752671.png" alt="image-20220310113752671"></p>
<p><img src="C:\Users\LN\AppData\Roaming\Typora\typora-user-images\image-20220310114206136.png" alt="image-20220310114206136"></p>
<p><img src="C:\Users\LN\AppData\Roaming\Typora\typora-user-images\image-20220310114432195.png" alt="image-20220310114432195"></p>
<p><img src="C:\Users\LN\AppData\Roaming\Typora\typora-user-images\image-20220310114715713.png" alt="image-20220310114715713"></p>
<p><img src="C:\Users\LN\AppData\Roaming\Typora\typora-user-images\image-20220310115420665.png" alt="image-20220310115420665"></p>
<h2 id="-">约束</h2>
<p><img src="C:\Users\LN\AppData\Roaming\Typora\typora-user-images\image-20220310120447090.png" alt="image-20220310120447090"></p>
<p><img src="C:\Users\LN\AppData\Roaming\Typora\typora-user-images\image-20220310161118672.png" alt="image-20220310161118672"></p>
<h2 id="-">多表查询</h2>
<p><img src="C:\Users\LN\AppData\Roaming\Typora\typora-user-images\image-20220310163742347.png" alt="image-20220310163742347"></p>
<p><img src="C:\Users\LN\AppData\Roaming\Typora\typora-user-images\image-20220310164013426.png" alt="image-20220310164013426"></p>
<p><img src="C:\Users\LN\AppData\Roaming\Typora\typora-user-images\image-20220310164343761.png" alt="image-20220310164343761"></p>
<h2 id="-">事务</h2>
<p><img src="C:\Users\LN\AppData\Roaming\Typora\typora-user-images\image-20220310171440774.png" alt="image-20220310171440774"></p>
<p><img src="C:\Users\LN\AppData\Roaming\Typora\typora-user-images\image-20220310172129577.png" alt="image-20220310172129577"></p>
<h1 id="jdbc">JDBC</h1>
<p><img src="C:\Users\LN\AppData\Roaming\Typora\typora-user-images\image-20220310172932116.png" alt="image-20220310172932116"></p>
<p><img src="C:\Users\LN\AppData\Roaming\Typora\typora-user-images\image-20220310204320401.png" alt="image-20220310204320401"></p>
<p><img src="C:\Users\LN\AppData\Roaming\Typora\typora-user-images\image-20220311132146183.png" alt="image-20220311132146183"></p>
<p><img src="C:\Users\LN\AppData\Roaming\Typora\typora-user-images\image-20220310204945243.png" alt="image-20220310204945243"></p>
<p><img src="C:\Users\LN\AppData\Roaming\Typora\typora-user-images\image-20220311154908183.png" alt="image-20220311154908183"></p>
<p><img src="C:\Users\LN\AppData\Roaming\Typora\typora-user-images\image-20220311160035579.png" alt="image-20220311160035579"></p>
<h1 id="-">连接池</h1>
<p><img src="C:\Users\LN\AppData\Roaming\Typora\typora-user-images\image-20220311161306294.png" alt="image-20220311161306294"></p>
<p><img src="C:\Users\LN\AppData\Roaming\Typora\typora-user-images\image-20220311161440736.png" alt="image-20220311161440736"></p>
<h1 id="maven">Maven</h1>
<p><img src="C:\Users\LN\AppData\Roaming\Typora\typora-user-images\image-20220311204248262.png" alt="image-20220311204248262"></p>
<h1 id="web">Web</h1>
<p><img src="C:\Users\LN\AppData\Roaming\Typora\typora-user-images\image-20220314211206377.png" alt="image-20220314211206377"></p>
<h2 id="http">HTTP</h2>
<p><img src="C:\Users\LN\AppData\Roaming\Typora\typora-user-images\image-20220314211716423.png" alt=""></p>
<p><img src="C:\Users\LN\AppData\Roaming\Typora\typora-user-images\image-20220314212026254.png" alt=""></p>
<p><img src="C:\Users\LN\AppData\Roaming\Typora\typora-user-images\image-20220314212322622.png" alt="image-20220314212322622"></p>
<h2 id="-">响应状态码</h2>
<p><img src="C:\Users\LN\AppData\Roaming\Typora\typora-user-images\image-20220314220909324.png" alt="image-20220314220909324"></p>
<h1 id="servlet"><strong>servlet</strong></h1>
<p><img src="C:\Users\LN\AppData\Roaming\Typora\typora-user-images\image-20220314223226441.png" alt="image-20220314223226441"></p>
<h2 id="-">执行流程</h2>
<p><img src="C:\Users\LN\AppData\Roaming\Typora\typora-user-images\image-20220314225505802.png" alt="image-20220314225505802"></p>
<h2 id="-">生命周期</h2>
<p><img src="C:\Users\LN\AppData\Roaming\Typora\typora-user-images\image-20220314225621218.png" alt=""></p>
<h2 id="-image-20220314230016868image-20220830142431795">方法<img src="C:\Users\LN\AppData\Roaming\Typora\typora-user-images\image-20220314230016868.png" alt="image-20220314230016868"><img src="JavaWeb.assets/image-20220830142431795.png" alt="image-20220830142431795"></h2>
<p><img src="JavaWeb.assets/image-20220830142502115.png" alt="image-20220830142502115"></p>
<h2 id="servlet-urlpatten">Servlet urlpatten</h2>
<p><img src="C:\Users\LN\AppData\Roaming\Typora\typora-user-images\image-20220318122214627.png" alt="image-20220318122214627"></p>
<p><img src="C:\Users\LN\AppData\Roaming\Typora\typora-user-images\image-20220318122703062.png" alt=""></p>
<h2 id="xml-servlet">xml版本servlet</h2>
<pre><code>    ![image-20211021223704800](C:\Users\LN\AppData\Roaming\Typora\typora-user-images\image-20211021223704800.png)
</code></pre><p>servlet-name为下文mapping提供 class为实现了servlet接口的类</p>
<p><img src="C:\Users\LN\AppData\Roaming\Typora\typora-user-images\image-20211021223214132.png" alt="image-20211021223214132"></p>
<p>url表示请求路径 *是通配符 注意前面有<strong>/</strong>     比如Localhost：8080/任意都进入该class类</p>
<p>url可以写成*.ln格式 此时没有<strong>/</strong>   任何前缀加.ln均可进入该webapp</p>
<h2 id="-">保存作用域</h2>
<p><img src="JavaWeb.assets/image-20220829142716258.png" alt="image-20220829142716258"></p>
<h1 id="-">路径问题</h1>
<p><img src="JavaWeb.assets/image-20220829143338281.png" alt="image-20220829143338281"></p>
<h1 id="request">Request</h1>
<p><img src="C:\Users\LN\AppData\Roaming\Typora\typora-user-images\image-20220318124313056.png" alt="image-20220318124313056"></p>
<p><img src="C:\Users\LN\AppData\Roaming\Typora\typora-user-images\image-20220318125007082.png" alt="image-20220318125007082"></p>
<p><img src="C:\Users\LN\AppData\Roaming\Typora\typora-user-images\image-20220318154809694.png" alt="image-20220318154809694"></p>
<h2 id="-">请求转发</h2>
<p><img src="C:\Users\LN\AppData\Roaming\Typora\typora-user-images\image-20220318155318684.png" alt=""></p>
<h1 id="response">Response</h1>
<p><img src="C:\Users\LN\AppData\Roaming\Typora\typora-user-images\image-20220318155542611.png" alt="image-20220318155542611"></p>
<h2 id="-">重定向</h2>
<p><img src="C:\Users\LN\AppData\Roaming\Typora\typora-user-images\image-20220318155847429.png" alt="image-20220318155847429"></p>
<p><img src="C:\Users\LN\AppData\Roaming\Typora\typora-user-images\image-20220318160357862.png" alt="image-20220318160357862"></p>
<p><img src="C:\Users\LN\AppData\Roaming\Typora\typora-user-images\image-20220318200154947.png" alt="image-20220318200154947"></p>
<h1 id="servletcontext"><strong>servletContext</strong></h1>
<p>保存一些数据，全局唯一，可以使多个webapp之间进行数据交换
     servletConetext中的方法
         getServletContext</p>
<pre><code class="lang-java">public servletContext getServletContext();
</code></pre>
<pre><code class="lang-java">public class HelloServlet extends HttpServlet {
    @Override
    protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
        ServletContext servletContext = this.getServletContext();
        String username = &quot;LN&quot; ;
        servletContext.setAttribute(&quot;username&quot;,username);
    }

    @Override
    protected void doPost(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
        doGet(req, resp);
    }
}
</code></pre>
<p>首先将username放进servletcontext容器中 该容器在webapp初始化时就会创建一个，并且只有一个。</p>
<pre><code class="lang-java">public class GetServlet extends HttpServlet {
    @Override
    protected void doPost(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
        doGet(req, resp);
    }

    @Override
    protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
        ServletContext context = this.getServletContext();
        String userName = (String) context.getAttribute(&quot;username&quot;);
        resp.setContentType(&quot;text/html&quot;);
        resp.setCharacterEncoding(&quot;utf-8&quot;);
        PrintWriter writer = resp.getWriter();
        writer.print((&quot;名字&quot; + userName));
    }
}
</code></pre>
<p>然后在getservlet中取得该username并通过响应输出到页面中</p>
<p>需要配置相应的web.xml</p>
<pre><code class="lang-xml">&lt;servlet&gt;
  &lt;servlet-name&gt;hello&lt;/servlet-name&gt;
  &lt;servlet-class&gt;dlut.ln.servlet.HelloServlet&lt;/servlet-class&gt;
&lt;/servlet&gt;
&lt;servlet-mapping&gt;
  &lt;servlet-name&gt;hello&lt;/servlet-name&gt;
  &lt;url-pattern&gt;/hello&lt;/url-pattern&gt;
&lt;/servlet-mapping&gt;
&lt;servlet&gt;
  &lt;servlet-name&gt;getServlet&lt;/servlet-name&gt;
  &lt;servlet-class&gt;dlut.ln.servlet.GetServlet&lt;/servlet-class&gt;
&lt;/servlet&gt;
&lt;servlet-mapping&gt;
  &lt;servlet-name&gt;getServlet&lt;/servlet-name&gt;
  &lt;url-pattern&gt;/getC&lt;/url-pattern&gt;
&lt;/servlet-mapping&gt;
</code></pre>
<p>此时通过/hello可将username放进servletContext中，通过/getC可将username输出到页面上</p>
<h3 id="getinitparameter">getInitParameter</h3>
<p>可以获取Context的初始参数 该参数可以通过相应的set方法设置也可以在xml文件中设置</p>
<pre><code class="lang-xml">&lt;context-param&gt;
  &lt;param-name&gt;namespace&lt;/param-name&gt;
  &lt;param-value&gt;1598627&lt;/param-value&gt;
&lt;/context-param&gt;
</code></pre>
<pre><code class="lang-java">ServletContext context = this.getServletContext();
String namespace = context.getInitParameter(&quot;namespace&quot;);
PrintWriter writer = resp.getWriter();
writer.print(namespace);
</code></pre>
<h3 id="requestdispatch">requestDispatch</h3>
<pre><code class="lang-java">protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
        this.getServletContext().getRequestDispatcher(&quot;getC&quot;).forward(req,resp);
}
</code></pre>
<p>getRequestDispatcher(String src) 将该页面指向String字符串的页面。</p>
<p>forward(Request req,Response resp)转发上述请求</p>
<h3 id="properties-">properties资源文件</h3>
<p>读取资源文件时，maven会将resources中的properties自动导出target文件夹下class类</p>
<p>java中的java类文件也会自动导出，但是java文件夹下的properties文件不会自动导出，需要在pom.xml文件中添加</p>
<pre><code class="lang-xml">&lt;bulid&gt;   
    &lt;resources&gt;
      &lt;resource&gt;
        &lt;directory&gt;src/main/java/dlut.ln.servlet&lt;/directory&gt;
        &lt;includes&gt;
          &lt;include&gt;**/*.xml&lt;/include&gt;
          &lt;include&gt;**/*.properties&lt;/include&gt;
        &lt;/includes&gt;
      &lt;/resource&gt;    
    &lt;/resources&gt;
&lt;/build&gt;
</code></pre>
<pre><code class="lang-java">protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
    InputStream resource = this.getServletContext().getResourceAsStream(&quot;/WEB-INF/classes/pp.properties&quot;);
    Properties prop = new Properties();
    prop.load(resource);
    String username = prop.getProperty(&quot;username&quot;);
    String password = prop.getProperty(&quot;password&quot;);
    resp.getWriter().print(username +&quot;:&quot; + password);
}
</code></pre>
<p>网页显示结果为LN:1598627</p>
<h2 id="httpservletresponse">HttpServletResponse</h2>
<p> web服务器接收到客户端的http的请求，分别创建一个request和response。</p>
<p>如果想要获取客户端的参数：找HttpServletRequest</p>
<p>想要给客户端一些信息响应：找HttpServletResonse</p>
<p><h2>1、简单分类</p>
<p>向浏览器发送数据的方法</p>
<pre><code class="lang-java">public ServletOutputStream getOutputStream()//写流
public PrintWriter getWriter()//写中文
</code></pre>
<h3 id="-">下载文件</h3>
<p>1、获取要下载文件的路径</p>
<p>2、下载文件名</p>
<p>3、让浏览器支持下载东西</p>
<p>4、获取下载文件的输入流</p>
<p>5、使用OutputStream将文件通过response返回给客户端</p>
<pre><code class="lang-java">protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
    String path = &quot;C:\\Users\\LN\\Desktop\\html\\xtx-pc-client\\images\\教育部学籍在线验证报告_刘楠.pdf&quot;;
    String filename = path.substring(path.lastIndexOf(&#39;\\&#39;) + 1);
    resp.setHeader(&quot;Content-Disposition&quot;, &quot;attachment;filename=&quot; + URLEncoder.encode(filename,&quot;utf-8&quot;));
    resp.setCharacterEncoding(&quot;utf-8&quot;);
    ServletOutputStream outputStream = resp.getOutputStream();
    FileInputStream inputStream = new FileInputStream(path);

    byte[] bytes = new byte[1024];
    int len;
    while ((len = inputStream.read(bytes) )&gt; 0){
        outputStream.write(bytes,0,len);
    }
    inputStream.close();
    outputStream.close();
}
</code></pre>
<h3 id="-">生成验证码</h3>
<pre><code class="lang-java">protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
    //浏览器三秒刷新一次
    resp.setHeader(&quot;refresh&quot;,&quot;3&quot;);
    //生成一个图片
    BufferedImage image = new BufferedImage(80,20,BufferedImage.TYPE_INT_RGB);
    //得到图片画笔
    Graphics2D graphics2D = (Graphics2D) image.getGraphics();
    //设置背景颜色
    graphics2D.setColor(Color.white);
    //填充矩形
    graphics2D.fillRect(0,0,80,20);
    //设置字体颜色
    graphics2D.setColor(Color.blue);
    graphics2D.setFont(new Font(null,Font.BOLD,20) );
    graphics2D.drawString(getRandom(),0,20);
    resp.setContentType(&quot;image/jpeg&quot;);
    //不缓存
    resp.setDateHeader(&quot;expires&quot;,-1);
    resp.setHeader(&quot;cache-control&quot;,&quot;no-cache&quot;);
    resp.setHeader(&quot;pragma&quot;,&quot;no-cache&quot;);
    ImageIO.write(image,&quot;jpg&quot;,resp.getOutputStream());
}//生成随机数
private String getRandom(){
    Random random = new Random();
    String str = random.nextInt(9999) + &quot;&quot;;
    StringBuffer stringBuffer = new StringBuffer();
    //保证随机数位数为4
    for (int i = 0; i &lt; 4 - str.length(); i++){
        stringBuffer.append(&quot;0&quot;);
    }
    return stringBuffer.append(str).toString() ;
}
</code></pre>
<h3 id="-"><strong>重定向</strong></h3>
<p><img src="C:\Users\LN\AppData\Roaming\Typora\typora-user-images\image-20211024104638097.png" alt="image-20211024104638097"></p>
<p>B收到A得请求会告诉A去找C        url会改变</p>
<p>常见场景：</p>
<pre><code>用户登录
</code></pre><pre><code class="lang-java">public void sendRedirect(String location)
</code></pre>
<h2 id="httpservletrequest">HttpServletRequest</h2>
<p> HttpServletRequest代表客户端的请求，用户通过http访问服务器，通过request的方法可以得到客户端的所有信息。</p>
<h3 id="-">请求转发</h3>
<p>B收到A得请求自己去找C并且将C得结果返回给A    url不会改变</p>
<pre><code class="lang-java">public RequestDispatcher getRequestDispatcher(String path)
</code></pre>
<pre><code class="lang-jsp">                                    &lt;%--index界面--%&gt;
&lt;%@ page contentType=&quot;text/html;charset=UTF-8&quot; language=&quot;java&quot; %&gt;
&lt;html&gt;
&lt;body&gt;
&lt;h2&gt;Hello World!&lt;/h2&gt;
&lt;form action=&quot;${pageContext.request.contextPath}/log&quot; method=&quot;post&quot;&gt;
    用户名：&lt;input type=&quot;text&quot; name=&quot;username&quot;&gt;&lt;br&gt;
    密码：&lt;input type=&quot;text&quot; name=&quot;password&quot;&gt;&lt;br&gt;
    爱好：
    &lt;input type=&quot;checkbox&quot; name=&quot;hobby&quot; value=&quot;电影&quot;&gt;电影
    &lt;input type=&quot;checkbox&quot; name=&quot;hobby&quot; value=&quot;唱歌&quot;&gt;唱歌
    &lt;input type=&quot;submit&quot;&gt;
&lt;/form&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre>
<pre><code class="lang-xml">                                &lt;!--  注册request--&gt;
  &lt;servlet&gt;
    &lt;servlet-name&gt;login&lt;/servlet-name&gt;
    &lt;servlet-class&gt;dlut.ln.servlet.Request&lt;/servlet-class&gt;
  &lt;/servlet&gt;
  &lt;servlet-mapping&gt;
    &lt;servlet-name&gt;login&lt;/servlet-name&gt;
    &lt;url-pattern&gt;/log&lt;/url-pattern&gt;
  &lt;/servlet-mapping&gt;
</code></pre>
<pre><code class="lang-JAVA">                                //dlut.ln.servlet.Request类
protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
    req.setCharacterEncoding(&quot;utf-8&quot;);
    resp.setCharacterEncoding(&quot;utf-8&quot;);
    String username = req.getParameter(&quot;username&quot;);
    String password = req.getParameter(&quot;password&quot;);
    String[] hobbies = req.getParameterValues(&quot;hobby&quot;);
    System.out.println(&quot;username:&quot; + username);
    System.out.println(&quot;password:&quot; + password);
    System.out.println(Arrays.toString(hobbies));
    System.out.println(req.getContextPath());

    //&quot;/&quot;会被识别为当前web应用  不加/得时候会默认补上
    req.getRequestDispatcher(&quot;/success.jsp&quot;).forward(req,resp);
    //重定向时不能加/ 或者前面加上/r  r为部署tomcat服务器时定义的项目名称
    resp.sendRedirect(&quot;/r/success.jsp&quot;);
    /*
    重定向
    i:相对路径：response.sendRedirect(&quot;success.jsp&quot;)，容器相对于原来请求URL的目录加参数来生成完整的URL——http://localhost/r/success.jsp
   ii:绝对路径：response.sendRedirect(&quot;/success.jsp&quot;),容器相对于Web应用本身加参数建立完整的URL，这是因为 重定向response.sendRedirect(&quot;&quot;)是服务器向客户端发送一个请求头信息,由客户端再请求一次服务器，请求是在服务器外进行的，即完整的url是——http://localhost/success.jsp
    iii:其它Web应用：response.sendRedirect(&quot;http://www.xxx.com&quot;)容器直接定向到该URL。
    请求转发
   i:相对路径情况下生成的完整URL与重定向方法相同。
   ii:绝对路径与Servlet重定向不同，容器将相对于Web应用的根目录加参数生成完整的URL（即“/”根路径就是相对于虚拟路径）这是因为转发是在服务器内部进行的,写绝对路径/开头指的是当前的Web应用程序。即：
request.getRequestDispatcher(&quot;/success.jsp&quot;)生成的URL是http://localhost/r/success.jsp。
  */
这里建议重定向时从/项目名称 开始写，该路径默认为web文件夹，如果只有/则会默认为http://localhost:8080/success.jsp
</code></pre>
<pre><code class="lang-JSP">                        &lt;%--点击提交按钮后跳转得页面--%&gt;
&lt;%@ page contentType=&quot;text/html;charset=UTF-8&quot; language=&quot;java&quot; %&gt;
&lt;html&gt;

&lt;head&gt;
    &lt;title&gt;SUCCESSFUL&lt;/title&gt;
&lt;/head&gt;

&lt;body&gt;

&lt;h1&gt;SUCCESSFUL&lt;/h1&gt;

&lt;/body&gt;
&lt;/html&gt;
</code></pre>
<p>过程为首先进入index界面 点击提交后得action是跳转到注册得log类——即request，执行结束后请求转发至success.jsp 显示SUCCESSFUL</p>
<h1 id="cookie-session">Cookie、Session</h1>
<h2 id="-">会话</h2>
<p><img src="C:\Users\LN\AppData\Roaming\Typora\typora-user-images\image-20220318210236395.png" alt=""></p>
<p>打开浏览器，做了一些事，关闭浏览器，这个过程称为会话</p>
<p>客户端初次访问时服务器给客户端发送一个cookie，当客户端再次访问时，只需要检查cookie就不用再登录信息。类似于学校发给学生的学生证。</p>
<p>服务器内部记录客户端访问过，生成一个session，下次访问同样不在检查。类似于老师手里的学生名册。</p>
<h2 id="-">保存会话的两种技术</h2>
<h3 id="cookie">cookie</h3>
<p>客户端技术（通过响应发送给客户端，通过请求使服务器可以检查）</p>
<h3 id="session">session</h3>
<p>服务器技术（可以保存用户的会话信息，并放在session中）</p>
<h2 id="cookie">cookie</h2>
<p><img src="C:\Users\LN\AppData\Roaming\Typora\typora-user-images\image-20220318210617151.png" alt="image-20220318210617151"></p>
<p>从请求中拿到cookie信息</p>
<p>服务器响应给客户端</p>
<pre><code class="lang-java">Cookie[] cookies = req.getCookies();//获得cookie
cookies.getName();//获得cookie名字
cookie.getValues();//获得cookie值
new cookie(&quot;lastLoginTime&quot;,System.currentTimeMillis() + &quot;&quot;)//新建一个cookie
resp.addCookie();//添加cookie
cookie.setMaxAge//设置cookie有效期
</code></pre>
<p><img src="C:\Users\LN\AppData\Roaming\Typora\typora-user-images\image-20220318211056272.png" alt="image-20220318211056272"></p>
<p><img src="C:\Users\LN\AppData\Roaming\Typora\typora-user-images\image-20220318211631145.png" alt="image-20220318211631145"></p>
<h2 id="session-">session（重点）</h2>
<p><img src="C:\Users\LN\AppData\Roaming\Typora\typora-user-images\image-20220318211813245.png" alt="image-20220318211813245"></p>
<p><img src="C:\Users\LN\AppData\Roaming\Typora\typora-user-images\image-20220318212224213.png" alt="image-20220318212224213"></p>
<p><img src="C:\Users\LN\AppData\Roaming\Typora\typora-user-images\image-20220318212649758.png" alt="image-20220318212649758"></p>
<p>服务器会给每个用户（浏览器）创建一个session</p>
<p>一个session独占一个浏览器，只要浏览器不关闭，session就一直存在</p>
<p><strong>session和cookie的区别</strong></p>
<pre><code>cookie是把用户数据写给浏览器，可以保存多个

session是把用户数据写给服务器，服务端保存

创建session
</code></pre><pre><code class="lang-java"> protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
        //解决乱码
//        req.setCharacterEncoding(&quot;utf-8&quot;);
//        resp.setCharacterEncoding(&quot;utf-8&quot;);
        resp.setContentType(&quot;text/html;charset = utf-8&quot;);//在内部调用了上面的代码 并且必须使用在对对象操作之前
        //得到session
        HttpSession session = req.getSession();
        //给session存东西
        session.setAttribute(&quot;LN&quot;,&quot;nice&quot;);
        //获得sessionId
        String id = session.getId();

        //判断是不是新创建
        if (session.isNew()){
            System.out.println(&quot;是新创建的SESSION&quot;);
            resp.getWriter().write(&quot;是新创建的SESSION&quot;);
        }else {
            System.out.println(&quot;没有新创建 原有sessionID：&quot; + id);
            resp.getWriter().write(&quot;没有新创建 原有sessionID：&quot; + id);

        }
</code></pre>
<p>获得session的value</p>
<pre><code class="lang-java">protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
    HttpSession session = req.getSession();
    resp.setContentType(&quot;text/html;charset = utf-8&quot;);
    resp.getWriter().write((String) session.getAttribute(&quot;LN&quot;));
}
</code></pre>
<p>注销session</p>
<pre><code class="lang-java">protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {

    //得到session
    HttpSession session = req.getSession();

    //去除属性
    session.removeAttribute(&quot;LN&quot;);
    session.invalidate();//注销session

}
</code></pre>
<p>同时在xml中配置自动注销的时间</p>
<pre><code class="lang-xml">&lt;session-config&gt;
    &lt;session-timeout&gt;1&lt;/session-timeout&gt;
&lt;/session-config&gt;
</code></pre>
<h1 id="jsp">JSP</h1>
<p>java server pages:java服务端界面，同servlet，用于动态web技术</p>
<p>JSP本质上是一个servlet,jsp文件会生成一个java文件，里面的内容都放在该java文件的service方法中。</p>
<p>该类实现了JavaBase类 JavaBase继承了HttpServlet<img src="C:\Users\LN\AppData\Roaming\Typora\typora-user-images\image-20220318202513748.png" alt="image-20220318202513748"></p>
<h2 id="-">基础语法</h2>
<h3 id="jsp-">jsp表达式</h3>
<p>&lt;%= java的所有语法%&gt;</p>
<p>如：</p>
<pre><code class="lang-jsp">&lt;%= new java.util.Date()%&gt;
</code></pre>
<h3 id="jsp-">jsp脚本片段</h3>
<p><img src="C:\Users\LN\AppData\Roaming\Typora\typora-user-images\image-20220318203138033.png" alt="image-20220318203138033"></p>
<p>&lt;% java代码 %&gt;</p>
<p>如：</p>
<pre><code class="lang-jsp">&lt;%
    int sum = 0;
    for(int i = 0; i &lt; 10; i++)
        sum += i;
    System out println(sum);
%&gt;
</code></pre>
<h3 id="jsp-">jsp声明</h3>
<p>&lt;%! java代码 %&gt;</p>
<p>声明会被编译在jsp生成的java文件的类中，而&lt;%= %&gt;会被声称在该java文件的一个方法中</p>
<h3 id="jsp-">jsp指令</h3>
<pre><code class="lang-jsp">&lt;%@page errorpage = &quot;500.jsp&quot;%&gt;
</code></pre>
<p>当当前页面出现错误后会跳转到500.jsp文件，可以在该文件中定义错误界面</p>
<p>同时可以在xml文件中定义出错的处理</p>
<pre><code class="lang-xml">&lt;error-page&gt;
        &lt;error-code&gt;404&lt;/error-code&gt;
        &lt;location&gt;/500.jsp&lt;/location&gt;
    &lt;/error-page&gt;
</code></pre>
<pre><code class="lang-jsp">&lt;%@include file=&quot;500.jsp&quot; %&gt;
</code></pre>
<p>会将两个页面合二为一</p>
<pre><code class="lang-jsp">&lt;jsp:include page=&quot;500.jsp&quot;&gt;
  &lt;h1&gt;书写内容&lt;/h1&gt;
&lt;/jsp:include&gt;
</code></pre>
<p>将两个页面拼接在一起，但是还是两个页面（比较常用）</p>
<h3 id="jsp-jstl-el-">JSP标签、JSTL标签、EL表达式</h3>
<pre><code class="lang-xml">&lt;dependency&gt;
    &lt;groupId&gt;javax.servlet.jsp.jstl&lt;/groupId&gt;
    &lt;artifactId&gt;jstl-api&lt;/artifactId&gt;
    &lt;version&gt;1.2&lt;/version&gt;
&lt;/dependency&gt;

&lt;dependency&gt;
    &lt;groupId&gt;taglibs&lt;/groupId&gt;
    &lt;artifactId&gt;standard&lt;/artifactId&gt;
    &lt;version&gt;1.1.2&lt;/version&gt;
&lt;/dependency&gt;
</code></pre>
<p>需要导包</p>
<h4 id="el-">EL表达式：</h4>
<p><img src="C:\Users\LN\AppData\Roaming\Typora\typora-user-images\image-20220318203736609.png" alt="image-20220318203736609"></p>
<p>${ }</p>
<pre><code>获取数据

执行运算

获得web的常用对象
</code></pre><h4 id="jsp-">JSP标签</h4>
<pre><code class="lang-xml">&lt;jsp:include&gt;&lt;/jsp:include&gt;等
</code></pre>
<h4 id="jstl-">JSTL表达式</h4>
<p>自定义的供我们使用的标签，作用和java代码一样</p>
<p><img src="C:\Users\LN\AppData\Roaming\Typora\typora-user-images\image-20220318204553720.png" alt="image-20220318204553720"></p>
<h2 id="javabean">JavaBean</h2>
<p>一个实体类：</p>
<pre><code>必须有无参构造

属性必须私有化

必须有get/set方法
</code></pre><p>一般用来和数据库的字段做ORM映射</p>
<p>ORM:对象关系映射</p>
<pre><code>数据库表--&gt;类

字段（列）--&gt;属性

行记录    --&gt;对象
</code></pre><h1 id="mvc-">MVC架构</h1>
<p><img src="C:\Users\LN\AppData\Roaming\Typora\typora-user-images\image-20220318205032889.png" alt="image-20220318205032889"></p>
<p><img src="C:\Users\LN\AppData\Roaming\Typora\typora-user-images\image-20220318205243623.png" alt=""></p>
<p><img src="C:\Users\LN\AppData\Roaming\Typora\typora-user-images\image-20211026153400190.png" alt="image-20211026153400190"></p>
<h1 id="ioc">IOC</h1>
<p><img src="JavaWeb.assets/image-20220830165952396.png" alt="image-20220830165952396"></p>
<h1 id="threadlocalimage-20220831195327282image-20220831195515404">Threadlocal<img src="JavaWeb.assets/image-20220831195327282.png" alt="image-20220831195327282"><img src="JavaWeb.assets/image-20220831195515404.png" alt="image-20220831195515404"></h1>
<h1 id="filter-">Filter（重点）</h1>
<p><img src="JavaWeb.assets/image-20220830171422167.png" alt=""></p>
<p><img src="JavaWeb.assets/image-20220830171829809.png" alt=""></p>
<p>1、添加依赖</p>
<pre><code class="lang-xml">   &lt;dependency&gt;
            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;
            &lt;artifactId&gt;servlet-api&lt;/artifactId&gt;
            &lt;version&gt;2.5&lt;/version&gt;
        &lt;/dependency&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;javax.servlet.jsp&lt;/groupId&gt;
            &lt;artifactId&gt;javax.servlet.jsp-api&lt;/artifactId&gt;
            &lt;version&gt;2.3.3&lt;/version&gt;
        &lt;/dependency&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;javax.servlet.jsp.jstl&lt;/groupId&gt;
            &lt;artifactId&gt;jstl-api&lt;/artifactId&gt;
            &lt;version&gt;1.2-rev-1&lt;/version&gt;
        &lt;/dependency&gt;

        &lt;dependency&gt;
            &lt;groupId&gt;taglibs&lt;/groupId&gt;
            &lt;artifactId&gt;standard&lt;/artifactId&gt;
            &lt;version&gt;1.1.2&lt;/version&gt;
        &lt;/dependency&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;mysql&lt;/groupId&gt;
            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;
            &lt;version&gt;5.1.47&lt;/version&gt;
        &lt;/dependency&gt;
</code></pre>
<p>2、实现接口</p>
<pre><code class="lang-java">import javax.servlet.*;
import java.io.IOException;

public class Filter implements javax.servlet.Filter {
    @Override
    public void init(FilterConfig filterConfig) throws ServletException {

    }

    @Override
    public void doFilter(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain filterChain) throws IOException, ServletException {
     response.setContentType(&quot;text/html;charset=utf-8&quot;);
        chain.doFilter(request,response);
    }

    @Override
    public void destroy() {

    }
}
</code></pre>
<p>3、在web.xml中添加过滤器</p>
<pre><code class="lang-xml"> &lt;servlet&gt;
        &lt;servlet-name&gt;showServlet&lt;/servlet-name&gt;
        &lt;servlet-class&gt;MyServlet.Servlet&lt;/servlet-class&gt;
    &lt;/servlet&gt;
    &lt;servlet-mapping&gt;
        &lt;servlet-name&gt;showServlet&lt;/servlet-name&gt;
        &lt;url-pattern&gt;/servlet/show&lt;/url-pattern&gt;
    &lt;/servlet-mapping&gt;
    &lt;servlet-mapping&gt;
        &lt;servlet-name&gt;showServlet&lt;/servlet-name&gt;
        &lt;url-pattern&gt;/show&lt;/url-pattern&gt;
    &lt;/servlet-mapping&gt;

    &lt;filter&gt;
        &lt;filter-name&gt;filter&lt;/filter-name&gt;
        &lt;filter-class&gt;MyFilter.Filt&lt;/filter-class&gt;
    &lt;/filter&gt;
    &lt;filter-mapping&gt;
        &lt;filter-name&gt;filter&lt;/filter-name&gt;
        &lt;url-pattern&gt;/servlet/*&lt;/url-pattern&gt;
    &lt;/filter-mapping&gt;
</code></pre>
<p>添加过滤器后服务器总是报错,将iml文件中的如下代码删除后恢复正常</p>
<pre><code class="lang-xml">&lt;component name=&quot;NewModuleRootManager&quot; inherit-compiler-output=&quot;true&quot;&gt;
    &lt;exclude-output /&gt;
    &lt;content url=&quot;file://$MODULE_DIR$&quot; /&gt;
    &lt;orderEntry type=&quot;inheritedJdk&quot; /&gt;
    &lt;orderEntry type=&quot;sourceFolder&quot; forTests=&quot;false&quot; /&gt;
  &lt;/component&gt;
</code></pre>
<h1 id="listener">Listener</h1>
<p><img src="JavaWeb.assets/image-20220831200650630.png" alt="image-20220831200650630"></p>
<p>实现一个监听器的接口</p>
<pre><code class="lang-java">public class Listener implements HttpSessionListener {
    @Override
    public void sessionCreated(HttpSessionEvent se) {
        ServletContext servletContext = se.getSession().getServletContext();
        Integer number = (Integer) servletContext.getAttribute(&quot;number&quot;);
        if (number == null){
            number = 1;
        }
        else {
            number++;
        }
        servletContext.setAttribute(&quot;number&quot;,number);
    }

    @Override
    public void sessionDestroyed(HttpSessionEvent se) {
        ServletContext servletContext = se.getSession().getServletContext();
        Integer number = (Integer) servletContext.getAttribute(&quot;number&quot;);
        if (number == null){
            number = 0;
        }
        else {
            number--;
        }
        servletContext.setAttribute(&quot;number&quot;,number);
    }
}
</code></pre>
<p>注册监听器</p>
<pre><code class="lang-xml">&lt;listener&gt;
    &lt;listener-class&gt;MyListener.Listener&lt;/listener-class&gt;
&lt;/listener&gt;
</code></pre>
<h1 id="ajax">AJAX</h1>
<p><img src="C:\Users\LN\AppData\Roaming\Typora\typora-user-images\image-20220319200317180.png" alt="image-20220319200317180"></p>
<h2 id="-">同步异步</h2>
<p><img src="C:\Users\LN\AppData\Roaming\Typora\typora-user-images\image-20220319200606181.png" alt="image-20220319200606181"></p>
<h2 id="axios">Axios</h2>
<p><img src="C:\Users\LN\AppData\Roaming\Typora\typora-user-images\image-20220319205126410.png" alt="image-20220319205126410"></p>
<h1 id="json">JSON</h1>
<p><img src="C:\Users\LN\AppData\Roaming\Typora\typora-user-images\image-20220319205719317.png" alt="image-20220319205719317"></p>
<h2 id="json-java-bean-">json 与 java bean转换</h2>
<p><img src="C:\Users\LN\AppData\Roaming\Typora\typora-user-images\image-20220319205904242.png" alt="image-20220319205904242"></p>

          	</article>
        </div>
		</div>
  </body>
</html>
<script type="text/javascript" src="toc/js/jquery-1.4.4.min.js"></script>
<script type="text/javascript" src="toc/js/jquery.ztree.all-3.5.min.js"></script>
<script type="text/javascript" src="toc/js/ztree_toc.js"></script>
<script type="text/javascript" src="toc_conf.js"></script>

<SCRIPT type="text/javascript" >
<!--
$(document).ready(function(){
    var css_conf = eval(markdown_panel_style);
    $('#readme').css(css_conf)
    
    var conf = eval(jquery_ztree_toc_opts);
		$('#tree').ztree_toc(conf);
});
//-->
</SCRIPT>